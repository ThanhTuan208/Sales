@using CRUD_asp.netMVC.ViewModels.Order;
@using System.Globalization
@model GeneralOrderViewModel
@{
    ViewData["Title"] = "Payment status page";
    Layout = "";
}

<link rel="stylesheet" href="~/css/load_payment.css" asp-append-version="true" />
@* <link rel="stylesheet" href="~/lib/bootstrap/css/bootstrap.css" asp-append-version="true" /> *@

<div class="payment-section mt-5" id="paymentSection">
    <div class="success-icon">✔</div>
    <h1>Thanh Toán Thành Công !</h1>
    <p class="lead">
        Cảm ơn bạn đã mua hàng. Đơn hàng của bạn đã được xử lý thành công.
    </p>

    <div class="order-details" id="orderDetails">
        <p><strong>Mã đơn hàng:</strong> <span>@Model.Order.TransactionId</span></p>
        <p><strong>Số tiền:</strong> <span>@string.Format(new CultureInfo("vi-VN"), "{0:C0}", Model.Order.Amount)</span></p>
        <p><strong>Thời gian:</strong> <span>@Model.Order.PaidAt</span></p>
    </div>

    <div style="text-align: center; margin-top: 8px">
        <a asp-controller="Home" asp-action="Index" class="btn" id="btnHome">Trang chủ</a>
        <a asp-controller="" asp-action="" class="btn" id="btnCartFollow">Theo dõi đơn hàng</a>
    </div>
</div>

<!-- Products area (outside modal, hidden initially) -->
<div class="extra-content" id="extraContent" aria-hidden="true">
    <h2>Sản phẩm liên quan</h2>
    <div class="products-grid">
        @foreach (var item in Model.Product)
        {
            <div class="product-card">
                <a asp-controller="Product" asp-action="ProductDetail" asp-route-id="@item.ID" style="text-decoration: none">
                    <img src="@Url.Content($"~/images/Products/{item.PicturePath}")" alt="San pham @item.ID" />
                    <h3 style="color: black;">@item.Name</h3>
                </a>
                <p>Giá: @string.Format(new CultureInfo("vi-VN"), "{0:C0}", item.NewPrice)</p>
            </div>
        }
    </div>
</div>
<script src="~/js/jquery-3.7.1.min.js" asp-append-version="true"></script>
<script src="~/js/signalr.min.js" asp-append-version="true"></script>
<script src="~/js/owl.carousel.min.js" asp-append-version="true"></script>
<script type="module" src="~/js/load_address.js" asp-append-version="true"></script>
